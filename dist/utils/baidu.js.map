{"version":3,"sources":["utils/baidu.js"],"names":["URI","fetch","require","fetchApi","type","params","getCityName","latitude","longitude","location","output","ak","then","res","data","result","addressComponent","city","module","exports"],"mappings":"AAAA,MAAMA,MAAM,2BAAZ;AACA,MAAMC,QAAQC,QAAQ,SAAR,CAAd;;AAEA,SAASC,QAAT,CAAmBC,IAAnB,EAAyBC,MAAzB,EAAiC;AAC/B,SAAOJ,MAAMD,GAAN,EAAWI,IAAX,EAAiBC,MAAjB,CAAP;AACD;;AAED;;;;;;AAMA,SAASC,WAAT,CAAsBC,WAAW,QAAjC,EAA2CC,YAAY,UAAvD,EAAmE;AACjE,QAAMH,SAAS,EAAEI,UAAW,GAAEF,QAAS,IAAGC,SAAU,EAArC,EAAwCE,QAAQ,MAAhD,EAAwDC,IAAI,kCAA5D,EAAf;AACA,SAAOR,SAAS,cAAT,EAAyBE,MAAzB,EACJO,IADI,CACCC,OAAOA,IAAIC,IAAJ,CAASC,MAAT,CAAgBC,gBAAhB,CAAiCC,IADzC,CAAP;AAED;;AAEDC,OAAOC,OAAP,GAAiB,EAAEb,WAAF,EAAjB","file":"baidu.js","sourcesContent":["const URI = 'https://api.map.baidu.com'\nconst fetch = require('./fetch')\n\nfunction fetchApi (type, params) {\n  return fetch(URI, type, params)\n}\n\n/**\n * 根据经纬度获取城市\n * @param  {Number} latitude   经度\n * @param  {Number} longitude  纬度\n * @return {Promise}       包含抓取任务的Promise\n */\nfunction getCityName (latitude = 39.90403, longitude = 116.407526) {\n  const params = { location: `${latitude},${longitude}`, output: 'json', ak: 'B61195334f65b9e4d02ae75d24fa2c53' }\n  return fetchApi('geocoder/v2/', params)\n    .then(res => res.data.result.addressComponent.city)\n}\n\nmodule.exports = { getCityName }"]}