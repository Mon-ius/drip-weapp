{"version":3,"sources":["utils/fetch.js"],"names":["Promise","require","module","exports","api","path","params","resolve","reject","wx","request","url","data","Object","assign","header","success","fail"],"mappings":"AAAA,MAAMA,UAAUC,QAAQ,YAAR,CAAhB;;AAEA;;;;;;;;AAQAC,OAAOC,OAAP,GAAiB,UAAUC,GAAV,EAAeC,IAAf,EAAqBC,MAArB,EAA6B;AAC5C,SAAO,IAAIN,OAAJ,CAAY,CAACO,OAAD,EAAUC,MAAV,KAAqB;AACtCC,OAAGC,OAAH,CAAW;AACTC,WAAM,GAAEP,GAAI,IAAGC,IAAK,EADX;AAETO,YAAMC,OAAOC,MAAP,CAAc,EAAd,EAAkBR,MAAlB,CAFG;AAGTS,cAAQ,EAAE,gBAAgB,MAAlB,EAHC;AAITC,eAAST,OAJA;AAKTU,YAAMT;AALG,KAAX;AAOD,GARM,CAAP;AASD,CAVD","file":"fetch.js","sourcesContent":["const Promise = require('./bluebird')\n\n/**\n * 抓取远端API的结构\n * https://developers.douban.com/wiki/?title=movie_v2\n * @param  {String} api    api 根地址\n * @param  {String} path   请求路径\n * @param  {Objece} params 参数\n * @return {Promise}       包含抓取任务的Promise\n */\nmodule.exports = function (api, path, params) {\n  return new Promise((resolve, reject) => {\n    wx.request({\n      url: `${api}/${path}`,\n      data: Object.assign({}, params),\n      header: { 'Content-Type': 'json' },\n      success: resolve,\n      fail: reject\n    })\n  })\n}"]}